<div class="padding-mobile col-md-12 col-xs-12">
    <div class="card card-block list-group-item-payment shadow-1" ng-show="source.bookingRecords.length == 0">

        <div class="list-group-item-payment-abstract" style="cursor:default;">
            <div class="icon-info" style=" margin-right: 0.5rem;">
                <i aria-hidden="true" class="fa fa-info">
                </i>
            </div>
            <div class="list-group-payment-beneficiary">
                <p class="text-base">
                    {{'bookings.info' | translate}}
                </p>
            </div>
        </div>

    </div>
    <div class="card shadow-1" ng-hide="showLoader || source.bookingRecords.length == 0">
        <ul class="list-group list-group-flush list-group-payments">
            <li class="list-group-item list-group-item-payment"
                ng-class="{'list-group-item-payment-expanded':payment.showDetails}"
                ng-repeat="br in source.bookingRecords"
                scroll-up-on-event
            >
                <!-- box 0 -->
                <div class="list-group-item-payment-abstract"
                     ng-style="(!payment.showDetails && !checkShowDetail(br, payment.showDetails)) && {'cursor' : 'default'}"
                     ng-click="payment.showDetails = checkShowDetail(br, payment.showDetails);">
                    <month-day-year-icon bv-date-ms="br.registrationDate" style="padding-top: 5px"></month-day-year-icon>
                    <div class="list-group-payment-beneficiary">
                        <span class="highlight capitalize" style="padding-top: 5px;">
                          <span ng-show="br.customerDescription"> {{br.customerDescription}} - </span>{{br.description}}<br/>
                          {{sLineDetail(br.detail)}}
                        </span>

                        <p class="text-xxs" ng-hide="bvHideBalance||br.instrumentType=='SPO'">
                            {{br.formattedBalance}}
                            <span class="currency">
                                {{br.currency}}
                            </span>
                        </p>

                    </div>
                    <div class="list-group-payment-amount">
                        <p class="card-text">
                            {{br.formattedAmount}}
                            <br>
                            <span class="currency">
                                    {{br.currency}}
                                </span>
                            </br>
                        </p>
                    </div>

                </div>
                <!-- end box 0 -->
                <div class="list-group-item-payment-detail-wrapper">
                    <div class="list-group-item-payment-detail">
                        <span ng-if="br.detail">
                            <h5 class="bps-h5">
                                {{'app.common.details' | translate}}
                            </h5>
                            <pre class="text-s">{{br.detail}}</pre>
                        </span>

                        <span ng-hide="br.instrumentType=='ACC'">
                            <h5 class="bps-h5">
                                {{ 'property.quantity' | translate }}
                            </h5>
                            <pre class="text-s">{{br.quantity}}</pre>
                        </span>

                        <span ng-hide="br.instrumentType=='ACC'">
                            <h5 class="bps-h5">
                                {{ 'bookings.th.quotationoperation' | translate }}
                            </h5>
                            <pre class="text-s">{{br.price}}</pre>
                        </span>

                        <span ng-if="br.valueDate">
                            <h5 class="bps-h5">
                                {{ 'document.automaticdocuments.filter.valuedate' | translate }}
                            </h5>
                            <pre class="text-s">{{br.valueDate | amDateFormat:('date_format'|language_service)}}</pre>
                        </span>

                        <span ng-show="br._hasPayment">
                            <booking-record-detail debit-customers="debitCustomers" paymentid="br.paymentId"
                                                   payments="source.paymentsDetails.payments">
                            </booking-record-detail>
                        </span>

                        <!-- mb : span delle etichette -->
                        <span>
                            <tags-list api="tagsListApi" title="{{ 'payment.tag' | translate}}"
                                       editable="br.tagEditable && br.instrumentType=='ACC'"
                                       get-details="br.tagEditable && br.instrumentType=='ACC'"
                                       is-special-tag="!br.tagEditable"
                                       tag-visible="br.tagVisible"
                                       tag-id="br.tagId"
                                       insertable="br.tagInsertable"
                                       tag-label="br.tagLabel"></tags-list>
                        </span>

                        <span ng-if="br.noticeId != null || br._hasPayment ">
                                <hr>
                                    <a class="bps-btn-link link-action" ng-show='br.noticeId != null'
                                       href="{{$parent.getBookingDocumentDownloadUrl(br.id)}}" target="_blank">
                                        <i class="fa fa-file-pdf-o">
                                        </i>
                                        {{ 'app.button.exportpdf' | translate }}
                                    </a>
                                    <a class="bps-btn-link link-action" ng-show="br._hasPayment && br.billId === null"
                                       ng-click="copyPayment(br.paymentId,{text:('sidebar.common.slips'|translate),uistate:'contract.activities.cronology'})">
                                        <i class="fa fa-copy">
                                        </i>
                                        {{ 'app.action.copy' | translate }}
                                    </a>
                                    <a class="bps-btn-link link-action" ng-show="br._hasPayment"
                                       href="{{$parent.getPaymentPdfDownloadUrl(br.paymentId)}}" target="_blank">
                                        <i class="fa fa-print">
                                        </i>
                                        {{ 'payment.action.exportinpdf' | translate }}
                                    </a>
                            </hr>
                        </span>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <a class="bps-btn-link pull-right text-center" style="padding:3px" href="" ng-click="loadMore();"
       ng-show="source.bookingRecords.length > 0 && showPagination" style="padding-top: 10px;">
        {{'cronology.load.movements' | translate}}
    </a>
</div>
